"use strict";(self.webpackChunkaffworld=self.webpackChunkaffworld||[]).push([[300],{5300:function(e,r,n){n.r(r);var t=n(2723),a=n(4795),s=n(6234),u=n(969),c=n(7911),i=n(7517),o=n(3188),l=n(1699),d=n(9398),f=n(6336),h=n(6598),m=n(1914),p=n(9405),x=n(2967),v=n(734),g=n(6822),Z=n(156),j=n(4356),S=n(7574);r.default=function(e){var r=u.useRef(null),n=(0,v.s0)(),b=(0,u.useState)(""),y=(0,s.Z)(b,2),w=y[0],N=y[1],k=(0,u.useState)(""),A=(0,s.Z)(k,2),C=A[0],E=A[1],T=(0,u.useState)(""),I=(0,s.Z)(T,2),L=I[0],U=I[1],H=(0,u.useState)(""),q=(0,s.Z)(H,2),B=q[0],D=q[1],F=(0,u.useState)(""),O=(0,s.Z)(F,2),P=O[0],Y=O[1],M=(0,u.useState)(""),G=(0,s.Z)(M,2),W=G[0],z=G[1],J=(0,u.useState)(""),R=(0,s.Z)(J,2),K=R[0],Q=R[1],V=(0,u.useState)([]),X=(0,s.Z)(V,2),$=X[0],_=X[1],ee=(0,p.v9)((function(e){return e.auth})),re=(0,p.I0)(),ne=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r="",n=0;n<4;n++)r+=e.charAt(Math.floor(Math.random()*e.length));return r},te=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var r,n,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=ne(),n=!0,a=(0,j.iH)((0,j.N8)(),"users");case 3:if(!n){e.next=11;break}return s=(0,j.IO)(a,(0,j.g2)("userId"),(0,j.EW)(r)),e.next=7,(0,j.U2)(s);case 7:null===e.sent.val()?n=!1:r=ne(),e.next=3;break;case 11:Q(r);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){te()}),[]);var ae=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,re((0,x.IU)(C,L));case 4:return n=e.sent,a=n.user,e.next=8,(0,x.xv)(a.uid,{username:w,email:C,trafficSource:P,trafficNumber:B,experience:W,userId:K});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(r){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){var e=(0,j.iH)((0,j.N8)());(0,j.U2)((0,j.iU)(e,"sources")).then((function(e){e.exists()?_(e.val()):console.log("No data available")})).catch((function(e){console.error(e)}))}),[]),(0,u.useEffect)((function(){return ee.loading&&(r.current=Z.Am.info("\u2755 Loading...",{autoClose:!1})),ee.user&&(Z.Am.dismiss(r.current),Z.Am.success("\u2714 Signup Succes!"),E(""),U(""),D(""),Y(""),n("/user/dashboard")),ee.error&&(Z.Am.dismiss(r.current),Z.Am.error("\u274c ".concat(ee.error))),function(){ee.error&&re((0,x.sT)(null))}}),[ee]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(c.Z,{title:"Signup",para:"Hey There! Looks Like You Have Finally Decided To Join Us And Become Part Of An Amazing Community."}),(0,S.jsx)("div",{className:"signup-section section-padding",children:(0,S.jsx)(i.Z,{children:(0,S.jsx)(o.Z,{children:(0,S.jsx)(l.Z,{lg:12,children:(0,S.jsx)(d.Z,{className:"login-card",children:(0,S.jsxs)(d.Z.Body,{children:[(0,S.jsx)("h3",{className:"text-center",children:"Signup"}),(0,S.jsxs)(f.Z,{onSubmit:ae,children:[(0,S.jsx)(m.Z,{controlId:"lastName",title:"User Name",type:"text",placeholder:"Enter User name",value:w,onChange:function(e){return N(e.target.value)},required:!0}),(0,S.jsxs)(f.Z.Group,{style:{marginBottom:"1rem"},children:[(0,S.jsx)(f.Z.Label,{children:" Select Traffic Source "}),(0,S.jsxs)(f.Z.Select,{name:"source",onChange:function(e){Y(e.target.value)},"aria-label":"Select Traffic Source",value:P,children:[(0,S.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Open This Traffic Source Menu"}),$.map((function(e,r){return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("option",{value:e.value,children:e.name},r),";"]})}))]})]}),(0,S.jsx)(m.Z,{controlId:"trafficNumber",title:"Traffic Number",type:"number",placeholder:"Enter Traffic Number",value:B,onChange:function(e){return D(e.target.value)}}),(0,S.jsx)(m.Z,{controlId:"signupEmail",title:"Email address",type:"email",placeholder:"Enter email",value:C,onChange:function(e){return E(e.target.value)},message:"We'll never share your email with anyone else.",required:!0}),(0,S.jsx)(m.Z,{controlId:"signupPassword",title:"Password",type:"password",placeholder:"Password",value:L,onChange:function(e){return U(e.target.value)},required:!0}),(0,S.jsxs)(f.Z.Group,{className:"mb-3",controlId:"experienceTextArea",children:[(0,S.jsx)(f.Z.Label,{children:" Your Experience "}),(0,S.jsx)(f.Z.Control,{required:!0,value:W,onChange:function(e){return z(e.target.value)},as:"textarea",placeholder:"Describe your Experience / How would You Bring Traffic From Your Sources",rows:3})]}),(0,S.jsx)(h.Z,{variant:"primary",type:"submit",children:"Submit"})]}),(0,S.jsxs)("div",{className:"confirmDiv",children:[" ","Already a user? ",(0,S.jsx)(g.OL,{to:"/user/login",children:" Login "})]})]})})})})})})]})}}}]);
//# sourceMappingURL=300.4deba3b9.chunk.js.map